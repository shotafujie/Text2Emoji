const input = document.getElementById('input');
const output = document.getElementById('output');
let recognition;
let finalTranscript = '';

function startRecognition() {
    window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    recognition = new SpeechRecognition();
    recognition.lang = 'ja-JP';
    recognition.interimResults = true;
    recognition.continuous = true;

    recognition.onresult = (event) => {
        let interimTranscript = '';
        for (let i = event.resultIndex; i < event.results.length; i++) {
            const transcript = event.results[i][0].transcript + ".";
            if (event.results[i].isFinal) {
                finalTranscript += transcript;
            } else {
                interimTranscript += transcript;
            }
        }
        output.value = convertToEmoji(finalTranscript + interimTranscript);
    };
    recognition.start();
}

function stopRecognition() {
    recognition.stop();
}
function deleteText() {
    output.value = '';
    finalTranscript = '';
}
function updateEmoji() {
    const text = input.value;
    output.value = convertToEmoji(text);
}
function copyToClipboard() {
    output.select();
    document.execCommand('copy');
    alert('Text copied to clipboard!');
}

function convertToEmoji(text) {
    const emojiMap = {
        "éŸ³å£°": "éŸ³å£°ðŸŽ™",
        "èªè­˜": "èªè­˜ðŸ‘‚",
        "æŠ€è¡“": "æŠ€è¡“ðŸ”§",
        "äºº": "äººðŸ‘¤",
        "ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿": "ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ðŸ’»",
        "ãƒ†ã‚­ã‚¹ãƒˆ": "ãƒ†ã‚­ã‚¹ãƒˆðŸ“œ",
        "å‘½ä»¤": "å‘½ä»¤âš™ï¸",
        "AI": "AIðŸ¤–",
        "ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°": "ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ðŸ§ ",
        "ãƒ¢ãƒ‡ãƒ«": "ãƒ¢ãƒ‡ãƒ«ðŸ“Š",
        "ãƒ‡ãƒ¼ã‚¿": "ãƒ‡ãƒ¼ã‚¿ðŸ“ˆ",
        "å­¦ç¿’": "å­¦ç¿’ðŸ“š",
        "äººé–“": "äººé–“ðŸ‘¥",
        "è£½å“": "è£½å“ðŸ“¦",
        "ã‚µãƒ¼ãƒ“ã‚¹": "ã‚µãƒ¼ãƒ“ã‚¹ðŸ›Žï¸",
        "ã‚¹ãƒžãƒ¼ãƒˆã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼": "ã‚¹ãƒžãƒ¼ãƒˆã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ðŸ”Š",
        "ãƒ¦ãƒ¼ã‚¶ãƒ¼": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ðŸ‘¥",
        "éŸ³æ¥½": "éŸ³æ¥½ðŸŽµ",
        "å¤©æ°—": "å¤©æ°—â›…",
        "å®¶é›»": "å®¶é›»ðŸ“º",
        "ã‚¹ãƒžãƒ¼ãƒˆãƒ•ã‚©ãƒ³": "ã‚¹ãƒžãƒ¼ãƒˆãƒ•ã‚©ãƒ³ðŸ“±",
        "é›»è©±": "é›»è©±â˜Žï¸",
        "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ðŸ“…",
        "æƒ…å ±": "æƒ…å ±ðŸ”",
        "æ¥­å‹™": "æ¥­å‹™ðŸ’¼",
        "åŒ»ç™‚": "åŒ»ç™‚ðŸ¥",
        "è¨ºæ–­": "è¨ºæ–­ðŸ©º",
        "å€‰åº«": "å€‰åº«ðŸ¢",
        "åœ¨åº«": "åœ¨åº«ðŸ“¦",
        "æ‰‹ä½œæ¥­": "æ‰‹ä½œæ¥­ðŸ–ï¸",
        "å…¥åŠ›": "å…¥åŠ›âŒ¨ï¸",
        "èª²é¡Œ": "èª²é¡Œâ—",
        "æ–¹è¨€": "æ–¹è¨€ðŸ—£ï¸",
        "ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ": "ã‚¢ã‚¯ã‚»ãƒ³ãƒˆðŸŽ¤",
        "é›‘éŸ³": "é›‘éŸ³ðŸ“¢",
        "ç ”ç©¶": "ç ”ç©¶ðŸ”",
        "é–‹ç™º": "é–‹ç™ºðŸ‘©â€ðŸ’»",
        "ç”Ÿæ´»": "ç”Ÿæ´»ðŸ¡",
        "ä¾¿åˆ©": "ä¾¿åˆ©ðŸŽ‰",
        "ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«": "ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ðŸ“ˆ",
        "ã‚¹ãƒ‘ã‚¤ãƒ©ãƒ«": "ã‚¹ãƒ‘ã‚¤ãƒ©ãƒ«ðŸŒ€",
        "ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«": "ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ðŸ”„",
        "ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢": "ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ðŸ’»",
        "é–‹ç™º": "é–‹ç™ºðŸ› ",
        "ãƒ•ã‚§ãƒ¼ã‚º": "ãƒ•ã‚§ãƒ¼ã‚ºðŸ“…",
        "è¦ä»¶": "è¦ä»¶ðŸ“",
        "è¨­è¨ˆ": "è¨­è¨ˆðŸ“",
        "å®Ÿè£…": "å®Ÿè£…ðŸ’¡",
        "ãƒ†ã‚¹ãƒˆ": "ãƒ†ã‚¹ãƒˆðŸ”",
        "ãƒ‡ãƒ—ãƒ­ã‚¤": "ãƒ‡ãƒ—ãƒ­ã‚¤ðŸš¢",
        "ä¿å®ˆ": "ä¿å®ˆðŸ”§",
        "ãƒªã‚¹ã‚¯": "ãƒªã‚¹ã‚¯âš ï¸",
        "è¨ˆç”»": "è¨ˆç”»ðŸ“‹",
        "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°": "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ðŸ”§",
        "è©•ä¾¡": "è©•ä¾¡ðŸ“Š",
        "ã‚µã‚¤ã‚¯ãƒ«": "ã‚µã‚¤ã‚¯ãƒ«ðŸ”„",
        "ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯": "ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ðŸ—£",
        "ã‚¹ã‚¯ãƒ©ãƒ ": "ã‚¹ã‚¯ãƒ©ãƒ ðŸ‰",
        "ã‚«ãƒ³ãƒãƒ³": "ã‚«ãƒ³ãƒãƒ³ðŸª§",
        "è´è¦šéšœå®³": "è´è¦šéšœå®³ðŸ‘‚",
        "è€³": "è€³ðŸ‘‚",
        "è´è¦šçµŒè·¯": "è´è¦šçµŒè·¯ðŸ§ ",
        "è´åŠ›": "è´åŠ›ðŸ”‰",
        "é›£è´": "é›£è´ðŸ”‡",
        "å…ˆå¤©çš„": "å…ˆå¤©çš„ðŸ‘¶",
        "å¤–å‚·": "å¤–å‚·ðŸ¤•",
        "æ„ŸæŸ“ç—‡": "æ„ŸæŸ“ç—‡ðŸ¦ ",
        "è€åŒ–": "è€åŒ–ðŸ‘´",
        "é«˜éŸ³é‡": "é«˜éŸ³é‡ðŸ”Š",
        "å›°é›£": "å›°é›£âŒ",
        "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³": "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ðŸ’¬",
        "æ‰‹è©±": "æ‰‹è©±ðŸ¤Ÿ",
        "ç­†è«‡": "ç­†è«‡âœï¸",
        "è£œè´å™¨": "è£œè´å™¨ðŸ¦»",
        "ãƒ†ã‚¯ãƒŽãƒ­ã‚¸ãƒ¼": "ãƒ†ã‚¯ãƒŽãƒ­ã‚¸ãƒ¼ðŸ”§",
        "ã‚¹ãƒžãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚¢ãƒ—ãƒª": "ã‚¹ãƒžãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚¢ãƒ—ãƒªðŸ“±",
        "ãƒ‡ãƒã‚¤ã‚¹": "ãƒ‡ãƒã‚¤ã‚¹ðŸ“Ÿ",
        "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†": "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†â±",
        "ãƒŽã‚¤ã‚ºãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³": "ãƒŽã‚¤ã‚ºãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³ðŸ”‡",
        "ã‚¨ã‚³ãƒ¼ã‚­ãƒ£ãƒ³ã‚»ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³": "ã‚¨ã‚³ãƒ¼ã‚­ãƒ£ãƒ³ã‚»ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ðŸ”Š",
        "ãƒã‚¤ãƒŠãƒ©ãƒ«éŸ³éŸ¿": "ãƒã‚¤ãƒŠãƒ©ãƒ«éŸ³éŸ¿ðŸŽ§",
        "éŸ³éŸ¿ãƒ¢ãƒ‡ãƒ«": "éŸ³éŸ¿ãƒ¢ãƒ‡ãƒ«ðŸ“Š",
        "ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ": "ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ðŸ“ˆ",
        "æ³¢å½¢": "æ³¢å½¢ðŸŒŠ",
        "ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›": "ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›ðŸ”„",
        "ãƒ•ã‚£ãƒ«ã‚¿ãƒãƒ³ã‚¯": "ãƒ•ã‚£ãƒ«ã‚¿ãƒãƒ³ã‚¯ðŸ”",
        "éŸ³ç´ ": "éŸ³ç´ ðŸŽµ",
        "éŸ³éŸ¿ä¿¡å·": "éŸ³éŸ¿ä¿¡å·ðŸŽ¶",
        "ãƒžã‚¤ã‚¯ãƒ­ãƒ•ã‚©ãƒ³ã‚¢ãƒ¬ã‚¤": "ãƒžã‚¤ã‚¯ãƒ­ãƒ•ã‚©ãƒ³ã‚¢ãƒ¬ã‚¤ðŸŽ¤",
        "è‡ªå‹•ã‚¹ãƒ”ãƒ¼ãƒèªè­˜": "è‡ªå‹•ã‚¹ãƒ”ãƒ¼ãƒèªè­˜ðŸ—£",
        "éŸ³å£°åˆæˆ": "éŸ³å£°åˆæˆðŸ—£",
        "ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼èªè¨¼": "ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼èªè¨¼ðŸ‘¤",
        "ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ç‹¬ç«‹èªè­˜": "ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ç‹¬ç«‹èªè­˜ðŸ‘¥",
        "è¨€èªžãƒ¢ãƒ‡ãƒ«": "è¨€èªžãƒ¢ãƒ‡ãƒ«ðŸ“š",
        "æ·±å±¤å­¦ç¿’": "æ·±å±¤å­¦ç¿’ðŸ§ ",
        "ç•³ã¿è¾¼ã¿ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯": "ç•³ã¿è¾¼ã¿ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ðŸ”„",
        "å†å¸°åž‹ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯": "å†å¸°åž‹ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ðŸ”",
        "é•·çŸ­æœŸè¨˜æ†¶": "é•·çŸ­æœŸè¨˜æ†¶ðŸ§ ",
        "ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒžãƒ¼": "ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒžãƒ¼ðŸ”„",
        "ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼": "ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼ðŸ”",
        "ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼": "ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼ðŸ”“",
        "ã‚¢ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ": "ã‚¢ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ðŸ”",
        "ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿": "ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ðŸ“Š",
        "ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿": "ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ðŸ“‰",
        "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿": "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ðŸ“ˆ",
        "éŽå­¦ç¿’": "éŽå­¦ç¿’âš ï¸",
        "æœªå­¦ç¿’": "æœªå­¦ç¿’â—",
        "æ­£å‰‡åŒ–": "æ­£å‰‡åŒ–âœ”ï¸",
        "æœ€é©åŒ–": "æœ€é©åŒ–ðŸ”„",
        "æå¤±é–¢æ•°": "æå¤±é–¢æ•°â—",
        "å‹¾é…é™ä¸‹æ³•": "å‹¾é…é™ä¸‹æ³•â¬‡ï¸",
        "ãƒãƒƒã‚¯ãƒ—ãƒ­ãƒ‘ã‚²ãƒ¼ã‚·ãƒ§ãƒ³": "ãƒãƒƒã‚¯ãƒ—ãƒ­ãƒ‘ã‚²ãƒ¼ã‚·ãƒ§ãƒ³â¬…ï¸",
        "å­¦ç¿’çŽ‡": "å­¦ç¿’çŽ‡ðŸ”„",
        "æ´»æ€§åŒ–é–¢æ•°": "æ´»æ€§åŒ–é–¢æ•°âž¡ï¸",
        "éš ã‚Œå±¤": "éš ã‚Œå±¤ðŸ”",
        "å…¥åŠ›å±¤": "å…¥åŠ›å±¤â¬…ï¸",
        "å‡ºåŠ›å±¤": "å‡ºåŠ›å±¤âž¡ï¸",
        "ãƒãƒƒãƒå­¦ç¿’": "ãƒãƒƒãƒå­¦ç¿’ðŸ“š",
        "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å­¦ç¿’": "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å­¦ç¿’ðŸ’»",
        "è»¢ç§»å­¦ç¿’": "è»¢ç§»å­¦ç¿’ðŸ”„",
        "ãƒ‰ãƒ¡ã‚¤ãƒ³é©å¿œ": "ãƒ‰ãƒ¡ã‚¤ãƒ³é©å¿œðŸ”„",
        "å¤šã‚¿ã‚¹ã‚¯å­¦ç¿’": "å¤šã‚¿ã‚¹ã‚¯å­¦ç¿’ðŸ“š",
        "ãƒ¡ã‚¿å­¦ç¿’": "ãƒ¡ã‚¿å­¦ç¿’ðŸ§ ",
        "åŠæ•™å¸«ã‚ã‚Šå­¦ç¿’": "åŠæ•™å¸«ã‚ã‚Šå­¦ç¿’ðŸ‘¥",
        "æ•™å¸«ãªã—å­¦ç¿’": "æ•™å¸«ãªã—å­¦ç¿’â“",
        "å¼·åŒ–å­¦ç¿’": "å¼·åŒ–å­¦ç¿’ðŸ’ª",
        "å ±é…¬": "å ±é…¬ðŸŽ",
        "çŠ¶æ…‹": "çŠ¶æ…‹ðŸ”„",
        "è¡Œå‹•": "è¡Œå‹•ðŸƒ",
        "ãƒãƒªã‚·ãƒ¼": "ãƒãƒªã‚·ãƒ¼ðŸ“œ",
        "çµµ": "çµµðŸ–¼ï¸"
    };
    for (let word in emojiMap) {
        text = text.replace(new RegExp(word, 'g'), emojiMap[word]);
    }
    return text;
    // for (let word in emojiMap) {
    //     text = text.replace(new RegExp(`\\b${word}\\b`, 'g'), word + emojiMap[word]);
    // }
    // return text;
}
